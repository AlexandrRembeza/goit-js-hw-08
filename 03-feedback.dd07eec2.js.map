{"mappings":"AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,YACjCE,MAAOH,SAASC,cAAc,wBAG1BG,EAAoB,GAE1BN,EAAKC,KAAKM,iBAAiB,UA2B3B,SAA8BC,GAC5BA,EAAIC,iBAEJ,MACEC,UAAUC,MAAEA,EAAKC,QAAEA,IACjBJ,EAAIK,cAER,IAAIF,EAAMG,OAA2B,KAAlBF,EAAQE,MAUzB,OAAOC,MAAM,kCATI,IAAIC,SAASR,EAAIK,eAEzBI,SAAQ,CAACH,EAAOI,KACvBC,QAAQC,IAAI,GAAGF,MAASJ,QAG1BO,aAAaC,WAAW,uBACxBd,EAAIK,cAAcU,WAzCtBvB,EAAKC,KAAKM,iBAAiB,SAG3B,SAAyBC,GACvB,MACEE,UAAUC,MAAEA,EAAKC,QAAEA,IACjBJ,EAAIK,cAERP,EAAkBK,MAAQA,EAAMG,MAChCR,EAAkBM,QAAUA,EAAQE,MAEpCO,aAAaG,QACX,sBACAC,KAAKC,UAAUpB,OAZnBqB,OAAOpB,iBAAiB,QAgBxB,SAAgCC,GAC9B,MAAMoB,EAAaH,KAAKI,MAAMR,aAAaS,QAAQ,wBAE/CF,IACF5B,EAAKI,SAASU,MAAQc,EAAWhB,QACjCZ,EAAKK,MAAMS,MAAQc,EAAWjB","sources":["src/js/03-feedback.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('textarea'),\n  input: document.querySelector('input[name=\"email\"]'),\n};\n\nconst currentFormValues = {};\n\nrefs.form.addEventListener('submit', saveSubmitFormValues);\nrefs.form.addEventListener('input', getInputsValues);\nwindow.addEventListener('load', updateFormValuesFromLS);\n\nfunction getInputsValues(evt) {\n  const {\n    elements: { email, message },\n  } = evt.currentTarget;\n\n  currentFormValues.email = email.value;\n  currentFormValues.message = message.value;\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(currentFormValues)\n  );\n}\n\nfunction updateFormValuesFromLS(evt) {\n  const formValues = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (formValues) {\n    refs.textarea.value = formValues.message;\n    refs.input.value = formValues.email;\n  }\n}\n\nfunction saveSubmitFormValues(evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = evt.currentTarget;\n\n  if (email.value && message.value !== '') {\n    const formData = new FormData(evt.currentTarget);\n\n    formData.forEach((value, name) => {\n      console.log(`${name}: ${value}`);\n    });\n\n    localStorage.removeItem('feedback-form-state');\n    evt.currentTarget.reset();\n  } else {\n    return alert('Нужно заполнить все поля формы');\n  }\n}\n"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","textarea","input","$945622fd0f572e60$var$currentFormValues","addEventListener","evt","preventDefault","elements","email","message","currentTarget","value","alert","FormData","forEach","name","console","log","localStorage","removeItem","reset","setItem","JSON","stringify","window","formValues","parse","getItem"],"version":3,"file":"03-feedback.dd07eec2.js.map"}