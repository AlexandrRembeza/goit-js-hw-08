{"mappings":"YAAA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,YACjCE,MAAOH,SAASC,cAAc,wBAG1BG,EAAoB,GAE1BN,EAAKC,KAAKM,iBAAiB,UA2B3B,SAA8BC,GAC5BA,EAAIC,iBAEJ,IAEqBC,EAAjBF,EAAIG,cADNC,SAAYC,EAAKH,EAALG,MAAOC,EAAOJ,EAAPI,QAGrB,IAAID,EAAME,OAA2B,KAAlBD,EAAQC,MAUzB,OAAOC,MAAM,kCATI,IAAIC,SAAST,EAAIG,eAEzBO,SAAQ,SAACH,EAAOI,GACvBC,QAAQC,IAAI,GAAYC,OAATH,EAAK,MAAUG,OAANP,OAG1BQ,aAAaC,WAAW,uBACxBhB,EAAIG,cAAcc,WAzCtBzB,EAAKC,KAAKM,iBAAiB,SAG3B,SAAyBC,GACvB,IAEqBE,EAAjBF,EAAIG,cADNC,SAAYC,EAAKH,EAALG,MAAOC,EAAOJ,EAAPI,QAGrBR,EAAkBO,MAAQA,EAAME,MAChCT,EAAkBQ,QAAUA,EAAQC,MAEpCQ,aAAaG,QACX,sBACAC,KAAKC,UAAUtB,OAZnBuB,OAAOtB,iBAAiB,QAgBxB,SAAgCC,GAC9B,IAAMsB,EAAaH,KAAKI,MAAMR,aAAaS,QAAQ,wBAE/CF,IACF9B,EAAKI,SAASW,MAAQe,EAAWhB,QACjCd,EAAKK,MAAMU,MAAQe,EAAWjB,U","sources":["src/js/03-feedback.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('textarea'),\n  input: document.querySelector('input[name=\"email\"]'),\n};\n\nconst currentFormValues = {};\n\nrefs.form.addEventListener('submit', saveSubmitFormValues);\nrefs.form.addEventListener('input', getInputsValues);\nwindow.addEventListener('load', updateFormValuesFromLS);\n\nfunction getInputsValues(evt) {\n  const {\n    elements: { email, message },\n  } = evt.currentTarget;\n\n  currentFormValues.email = email.value;\n  currentFormValues.message = message.value;\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(currentFormValues)\n  );\n}\n\nfunction updateFormValuesFromLS(evt) {\n  const formValues = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (formValues) {\n    refs.textarea.value = formValues.message;\n    refs.input.value = formValues.email;\n  }\n}\n\nfunction saveSubmitFormValues(evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = evt.currentTarget;\n\n  if (email.value && message.value !== '') {\n    const formData = new FormData(evt.currentTarget);\n\n    formData.forEach((value, name) => {\n      console.log(`${name}: ${value}`);\n    });\n\n    localStorage.removeItem('feedback-form-state');\n    evt.currentTarget.reset();\n  } else {\n    return alert('Нужно заполнить все поля формы');\n  }\n}\n"],"names":["$b00c40859be242c5$var$refs","form","document","querySelector","textarea","input","$b00c40859be242c5$var$currentFormValues","addEventListener","evt","preventDefault","_elements","currentTarget","elements","email","message","value","alert","FormData","forEach","name","console","log","concat","localStorage","removeItem","reset","setItem","JSON","stringify","window","formValues","parse","getItem"],"version":3,"file":"03-feedback.cad9112b.js.map"}